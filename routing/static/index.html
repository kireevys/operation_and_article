<!--
/*!
 * Ext JS Library 3.0.0
 * Copyright(c) 2006-2009 Ext JS, LLC
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
-->
<!DOCTYPE html>

<html>

<head>
    <title>Hello World Window</title>

    <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/resources/css/ext-all.css" rel="stylesheet">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/adapter/ext/ext-base-debug.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/ext-all-debug.js"></script>
</head>

<!-- Revised from demo code from ext3.0.0 -->

<body>
    <script type="text/javascript">
        Ext.onReady(function () {


            var myData = {
                records: [
                    { name: "Rec 0", column1: "0", column2: "0" },
                    { name: "Rec 1", column1: "1", column2: "1" },
                    { name: "Rec 2", column1: "2", column2: "2" },
                    { name: "Rec 3", column1: "3", column2: "3" },
                    { name: "Rec 4", column1: "4", column2: "4" },
                    { name: "Rec 5", column1: "5", column2: "5" },
                    { name: "Rec 6", column1: "6", column2: "6" },
                    { name: "Rec 7", column1: "7", column2: "7" },
                    { name: "Rec 8", column1: "8", column2: "8" },
                    { name: "Rec 9", column1: "9", column2: "9" }
                ]
            };


            // Generic fields array to use in both store defs.
            var fields = [
                { name: 'name', mapping: 'name' },
                { name: 'column1', mapping: 'column1' },
                { name: 'column2', mapping: 'column2' }
            ];

            // create the data store
            var firstGridStore = new Ext.data.JsonStore({
                fields: fields,
                data: myData,
                root: 'records'
            });


            // Column Model shortcut array
            var cols = [
                { id: 'name', header: "Record Name", sortable: true, dataIndex: 'name' },
                { header: "column1", sortable: true, dataIndex: 'column1' },
                { header: "column2", sortable: true, dataIndex: 'column2' },
            ];

            // declare the source Grid
            var firstGrid = new Ext.grid.GridPanel({
                ddGroup: 'secondGridDDGroup',
                store: firstGridStore,
                autoFill: true,
                columns: cols,
                enableDragDrop: true,
                stripeRows: true,
                autoExpandColumn: 'name',
                width: 325,
                region: 'west',
                title: 'First Grid'
            });

            var secondGridStore = new Ext.data.JsonStore({
                fields: fields,
                root: 'records'
            });

            // create the destination Grid
            var secondGrid = new Ext.grid.GridPanel({
                ddGroup: 'firstGridDDGroup',
                store: secondGridStore,
                columns: cols,
                enableDragDrop: true,
                stripeRows: true,
                autoExpandColumn: 'name',
                width: 325,
                region: 'center',
                title: 'Second Grid'
            });


            //Simple 'border layout' panel to house both grids
            var displayPanel = new Ext.Panel({
                width: 650,
                height: 300,
                layout: 'border',
                renderTo: 'panel',
                items: [
                    firstGrid,
                    secondGrid
                ],
                bbar: [
                    '->', // Fill
                    {
                        text: 'Reset both grids',
                        handler: function () {
                            //refresh source grid
                            firstGridStore.loadData(myData);

                            //purge destination grid
                            secondGridStore.removeAll();
                        }
                    }
                ]
            });

            // used to add records to the destination stores
            var blankRecord = Ext.data.Record.create(fields);

            /****
            * Setup Drop Targets
            ***/
            // This will make sure we only drop to the view container
            var firstGridDropTargetEl = firstGrid.getView().el.dom.childNodes[0].childNodes[1];
            var firstGridDropTarget = new Ext.dd.DropTarget(firstGridDropTargetEl, {
                ddGroup: 'firstGridDDGroup',
                copy: true,
                notifyDrop: function (ddSource, e, data) {

                    // Generic function to add records.
                    function addRow(record, index, allItems) {

                        // Search for duplicates
                        var foundItem = firstGridStore.findExact('name', record.data.name);
                        // if not found
                        if (foundItem == -1) {
                            firstGridStore.add(record);

                            // Call a sort dynamically
                            firstGridStore.sort('name', 'ASC');

                            //Remove Record from the source
                            ddSource.grid.store.remove(record);
                        }
                    }

                    // Loop through the selections
                    Ext.each(ddSource.dragData.selections, addRow);
                    return (true);
                }
            });


            // This will make sure we only drop to the view container
            var secondGridDropTargetEl = secondGrid.getView().el.dom.childNodes[0].childNodes[1]

            var destGridDropTarget = new Ext.dd.DropTarget(secondGridDropTargetEl, {
                ddGroup: 'secondGridDDGroup',
                copy: false,
                notifyDrop: function (ddSource, e, data) {

                    // Generic function to add records.
                    function addRow(record, index, allItems) {

                        // Search for duplicates
                        var foundItem = secondGridStore.findExact('name', record.data.name);
                        // if not found
                        if (foundItem == -1) {
                            secondGridStore.add(record);
                            // Call a sort dynamically
                            secondGridStore.sort('name', 'ASC');

                            //Remove Record from the source
                            ddSource.grid.store.remove(record);
                        }
                    }
                    // Loop through the selections
                    Ext.each(ddSource.dragData.selections, addRow);
                    return (true);
                }
            });
        });
    </script>
    <!--     <script type="text/javascript">
        Ext.onReady(function () {

            new Ext.Window({
                initHidden: false,
                width: 700,
                title: 'WindowTitle',
                items: [
                    new Ext.TabPanel({
                        items: [
                            new Ext.Panel({ title: 'Title1' }),
                            new Ext.Panel({ title: 'Title2' })
                        ],
                        plugins: {
                            init: function (component) {
                                component.on({
                                    beforetabchange: function (t, c, n) {
                                        Ext.MessageBox.confirm('MessageBoxTitle', 'Confirm message.', Ext.emptyFn, component);
                                    }
                                });
                            }
                        }
                    })
                ]
            });
        }); 
    </script> -->

    <div id="panel"></div>

</body>

</html>















Related examples in the same category
1. Sort table by name
2. Remove a row from a table
3. Remove all data from GridPanel
4. Layout GridPanel(table) and FormPanel in border layout
5. Using a Grid with a Form
6. Table Selection
7. The Grid demonstrates the use of creation of derived fields in a Record created using a custom convert function, and
the use of column renderers.
8. Set column name, width, height, title for Ext.grid.GridPanel
9. Set column to sortable
10. Add rowselect event handler to a GridPanel
11. GridPanel: framing
12. GridPanel: buttons
13. GridPanel: toolbars
14. Add buttons to GridPanel
15. Static data grid
16. Reload data to GridPanel
17. Grid Plugins
18. stripeRows: true,
19. Grouping GridPanel
20. Buffer Grid Example
21. GridPanel Framed with Checkbox Selection and Horizontal Scrolling
22. Grid with Numbered Rows and Force Fit
23. Set autoExpandColumn for GridPanel
24. autoExpandColumn: 'column name',
25. Set up data, column for Ext.grid.GridPanel
26. Set RowSelectionModel for Ext.grid.GridPanel
27. Data Binding Example - Implemented with classes
28. Mark changed field
29. Updating the grid data via a button click
30. Define RowSelectionModel and set single selection
31. Define column model and set header, dataIndex and sortable
32. Create a grid with from an existing, unformatted HTML table.
java2s.com | Email:info at java2s.com | Â© Demo Source and Support. All rights reserved.